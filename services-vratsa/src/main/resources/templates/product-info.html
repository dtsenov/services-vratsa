<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/commons::head}">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
</head>
<body onload="reloadCart()">
<header th:replace="~{fragments/commons::nav}"></header>

<div class="pr-table-wrapper" th:object="${currentProduct}">
    <div class="table-cart-wrapper">
        <table class="current-pr-table">

            <tbody>

            <tr>
                <th class="c-pr-text">ID на продукт</th>
                <th id="productId" th:text="*{productId}"></th>
            </tr>

            <tr>
                <th class="c-pr-text">Име на продукт</th>
                <th id="name" th:text="*{name}"></th>
            </tr>

            <tr>
                <th class="c-pr-text">Цена на продукт</th>
                <th id="price" th:text="*{price}"></th>
            </tr>

            <tr>
                <th class="c-pr-text">Производител</th>
                <th th:text="*{brand}"></th>
            </tr>

            <tr>
                <th class="c-pr-text">Описание на продукт</th>
                <th th:text="*{description}"></th>
            </tr>

            <tr>
                <th class="c-pr-text">Снимка на продукт</th>
                <th><img th:src="*{pictureUrl}" th:alt="*{pictureTitle}" height="150" width="150"
                         class="img-zoom-hover">
                </th>
            </tr>

            </tbody>
        </table>

        <div id="cart-container" class="cart-container" th:object="${cartViewModels}">
            <div id="cart" class="cart">
                <h3 class="c-pr-text">Количка</h3>
                <div id="cartItems"></div>
            </div>
        </div>
    </div>

    <form th:object="${currentProduct}"
          th:action="@{/products/all/{productId}(productId = ${currentProduct.id})}"
          method="POST" onsubmit="event.preventDefault(); addProductToCart();">
        <input type="submit" value="ДОБАВИ В КОЛИЧКА"/>
    </form>

</div>

<script type="text/javascript" src="/js/app.js"></script>

</body>
<footer th:replace="~{fragments/commons::footer}"></footer>
</html>